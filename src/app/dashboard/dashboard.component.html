


  <div class="container-fluid">
    <br>
    <h2 >Overview</h2>
    <br>



    <div class="row">

      <div class="col-md-8 col-xs">
        <div class="shadow-sm card mb-4">
          <div class="card-header">
            Average occupancy today
          </div>
          <div class="card-body">

              <pinch-zoom [properties]="zoomProperties" style=" z-index: 2; position:relative;">
                <div class="container-fluid" >
                <div class="svg" [innerHTML]="svgCurrentToday"  >
                </div>
                </div>
              </pinch-zoom>

          </div>
        </div>






        <div *ngIf="afterEight" class="shadow-sm card mb-4" >
          <div class="card-header">
            Current occupancy
          </div>
          <div class="card-body">
            <pinch-zoom [properties]="zoomProperties" style=" z-index: 2; position:relative;">
              <div class="container-fluid" >
                <div class="svg" [innerHTML]="svgCurrentOcc"  >
                </div>
              </div>
            </pinch-zoom>
          </div>
        </div>




        <div class="shadow-sm card mb-4">
          <div class="card-header">
            Average occupancy by weekday (all time)
          </div>
          <div class="card-body">

            <pinch-zoom [properties]="zoomProperties" style=" z-index: 2; position:relative;">
              <div class="container-fluid" >
                <div class="svg" [innerHTML]="avgWkDayAll"  >
                </div>
              </div>
            </pinch-zoom>

          </div>
        </div>




        <div class="shadow-sm card mb-4">
          <div class="card-header">
            Occupancy by library
          </div>
          <div class="card-body">
            <pinch-zoom [properties]="zoomProperties" style=" z-index: 2; position:relative;">
              <div class="container-fluid" >
                <div class="svg" [innerHTML]="svgCurrentAll"  >
                </div>
              </div>
            </pinch-zoom>
          </div>
        </div>



<!--        <div class="shadow-sm card mb-4">
          <div class="card-header">
            Locations
          </div>
          <div class="card-body" style="text-align: left;">

              <div id="map" style="height: 400px">
            <mgl-map
              [style]="'mapbox://styles/mapbox/streets-v9'"
              [zoom]="[12]"
              [center]="[11.58, 48.15]"
            ></mgl-map>
              </div>

          </div>
        </div>-->



      </div>
      <div class="col-md-4 col-xs" style=" z-index: 1; position:relative;">
        <div class="shadow-sm card">
          <div class="card-header">
            Current capacity
          </div>
          <div class="card-body">
            <div class="container-fluid">

     <div *ngIf="afterEight">

              <div *ngFor="let bib of currentBibs" class="row">

                <div *ngIf="!bib.warning" class="card text-white bg-success mb-2" style="width: 100%;" >
                  <div class="card-header"><i class="material-icons">local_library</i>
                    {{bib.nameBib}}</div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm">
                        Available seats:<br> {{bib.frei}}%
                      </div>
                      <div class="col-sm">
                        <div *ngIf="bib.beschraenkt == 0">
                          <i class="material-icons">thumb_up_alt</i><br>
                          Open to public
                        </div>
                        <div *ngIf="bib.beschraenkt == 1">
                          <i class="material-icons">error</i><br>
                          Faculty only
                        </div>
                      </div>
                      <div class="col-sm">
                        <a mat-button [routerLink]="'/view/' + bib.linkBib"><i class="material-icons">insert_chart_outlined</i> Stats</a>
                      </div>
                    </div>
                  </div>
                </div>




                <div *ngIf="bib.warning" class="card text-white  bg-danger mb-2" style="width: 100%;">
                  <div class="card-header"><i class="material-icons">local_library</i>
                    {{bib.nameBib}}</div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm">
                        Available seats:<br> {{bib.frei}}%
                      </div>
                      <div class="col-sm">
                        <div *ngIf="bib.beschraenkt == 0">
                          <i class="material-icons">thumb_up_alt</i><br>
                          Open to public
                        </div>
                        <div *ngIf="bib.beschraenkt == 1">
                          <i class="material-icons">error</i><br>
                          Faculty only
                        </div>
                      </div>
                      <div class="col-sm">
                        <a mat-button [routerLink]="'/view/' + bib.linkBib"><i class="material-icons">insert_chart_outlined</i> Stats</a>
                      </div>
                    </div>
                  </div>
                </div>


              </div>


          </div>
              <div *ngIf="!afterEight">

                <div class="card text-white  bg-danger mb-2" style="width: 100%;">
                  <div class="card-header"><i class="material-icons">local_library</i>
                    Current Status</div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm">
                        <h4>All libraries are closed!</h4>
                      </div>

                    </div>
                  </div>
                </div>



              </div>



            </div>
          </div>
         <p>Last update: {{lastUpdate}}</p>  <br> <br>
        </div>

      </div>


    </div>
